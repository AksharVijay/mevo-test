[{"D:\\react_projects\\mevo-test\\src\\index.js":"1","D:\\react_projects\\mevo-test\\src\\reportWebVitals.js":"2","D:\\react_projects\\mevo-test\\src\\App.js":"3","D:\\react_projects\\mevo-test\\src\\Components\\HomeZone\\HomeZone.js":"4","D:\\react_projects\\mevo-test\\src\\Components\\Navbar\\Navbar.js":"5"},{"size":500,"mtime":499162500000,"results":"6","hashOfConfig":"7"},{"size":362,"mtime":499162500000,"results":"8","hashOfConfig":"7"},{"size":407,"mtime":1612434669911,"results":"9","hashOfConfig":"7"},{"size":3470,"mtime":1612398473156,"results":"10","hashOfConfig":"7"},{"size":772,"mtime":1612434700123,"results":"11","hashOfConfig":"7"},{"filePath":"12","messages":"13","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"14"},"1m7iuhu",{"filePath":"15","messages":"16","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"14"},{"filePath":"17","messages":"18","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"19","messages":"20","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"21","usedDeprecatedRules":"14"},{"filePath":"22","messages":"23","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"D:\\react_projects\\mevo-test\\src\\index.js",[],["24","25"],"D:\\react_projects\\mevo-test\\src\\reportWebVitals.js",[],"D:\\react_projects\\mevo-test\\src\\App.js",[],"D:\\react_projects\\mevo-test\\src\\Components\\HomeZone\\HomeZone.js",["26","27"],"import React, {useState, useEffect, useRef} from 'react';\r\nimport useSwr from 'swr';\r\nimport ReactMapGL, { Marker, Popup, FlyToInterpolator, Layer} from 'react-map-gl';\r\nimport useSupercluster from 'use-supercluster';\r\nimport './HomeZone.css';\r\n\r\nconst fetcher = (...args) => fetch(...args).then(response => response.json());\r\n\r\nconst HomeZone = () => {\r\n\r\n    const  [viewport, setViewport] = useState({\r\n        latitude: -41.291099,\r\n        longitude: 174.786042,\r\n        width: \"100vw\",\r\n        height: \"100vh\",\r\n        zoom: 12\r\n    });\r\n\r\n    const [selectedVec, setSelectedVec] = useState(null);\r\n\r\n    useEffect(() => {\r\n        const listener = e => {\r\n            if(e.key === \"Escape\"){\r\n                setSelectedVec(null);\r\n            }\r\n        };\r\n        window.addEventListener(\"keydown\", listener);\r\n\r\n        return () => {\r\n            window.removeEventListener(\"keydown\", listener);\r\n        }\r\n\r\n\r\n    }, []);\r\n\r\n    const mapRef = useRef();\r\n\r\n    const url = \"https://api.mevo.co.nz/public/vehicles/all\";\r\n\r\n    const { data, error } = useSwr(url, fetcher);\r\n\r\n    const vec = data && !error ? data.slice(0,2000) : [];\r\n\r\n    const paintLayer = {\r\n        'fill-extrusion-color': '#aaa',\r\n        'fill-extrusion-height': {\r\n          type: 'identity',\r\n          property: 'height'\r\n        },\r\n        'fill-extrusion-base': {\r\n          type: 'identity',\r\n          property: 'min_height'\r\n        },\r\n        'fill-extrusion-opacity': 0.6\r\n      };\r\n\r\n\r\n    return( <div > <ReactMapGL {...viewport} \r\n    maxZoom = {20} \r\n    mapStyle = \"mapbox://styles/aksharvijay/ckklz7npa1jaw17n4c6t5984x\"\r\n    mapboxApiAccessToken ={process.env.REACT_APP_MAPBOX_TOKEN}\r\n\r\n    onViewportChange ={newViewport => {\r\n        setViewport({...newViewport});\r\n    }}\r\n    >\r\n        {vec.map(vecs => (\r\n        \r\n        <Marker  latitude={parseFloat(vecs.position.latitude)} longitude={parseFloat(vecs.position.longitude)}>\r\n                <button \r\n                className=\"marker-btn\"\r\n                onClick = { e => {\r\n                    e.preventDefault();\r\n                    setSelectedVec(vecs);\r\n\r\n                    setViewport({\r\n                        ...viewport,\r\n                        transitionInterpolator : new FlyToInterpolator({ speed : 5}),\r\n                        transitionDuration : \"auto\"\r\n                    })\r\n                }}>\r\n                    <img src=\"https://assets.mevo.co.nz/vehicles/pin-vehicle-available.png\" alt=\"\"/>\r\n                </button>\r\n            </Marker>\r\n        ))}\r\n\r\n        { selectedVec ? (\r\n            <Popup \r\n                latitude={parseFloat(selectedVec.position.latitude)} \r\n                longitude={parseFloat(selectedVec.position.longitude)}\r\n                onClose = { () =>{\r\n                    setSelectedVec(null);\r\n                }}>\r\n                <div>\r\n                    <p> <strong>Latitude :</strong> {parseFloat(selectedVec.position.latitude)}</p>\r\n                    <p> <strong>Longitude :</strong> {parseFloat(selectedVec.position.longitude)}</p>\r\n                </div>\r\n            </Popup>\r\n        ) : null}\r\n\r\n        <Layer\r\n          id=\"3d-buildings\"\r\n          sourceId=\"composite\"\r\n          sourceLayer=\"building\"\r\n          filter={['==', 'extrude', 'true']}\r\n          type=\"fill-extrusion\"\r\n          minZoom={14}\r\n          paint={paintLayer}\r\n        />\r\n     \r\n      \r\n\r\n    </ReactMapGL> </div>)\r\n}\r\n\r\nexport default HomeZone\r\n","D:\\react_projects\\mevo-test\\src\\Components\\Navbar\\Navbar.js",[],{"ruleId":"28","replacedBy":"29"},{"ruleId":"30","replacedBy":"31"},{"ruleId":"32","severity":1,"message":"33","line":4,"column":8,"nodeType":"34","messageId":"35","endLine":4,"endColumn":23},{"ruleId":"32","severity":1,"message":"36","line":36,"column":11,"nodeType":"34","messageId":"35","endLine":36,"endColumn":17},"no-native-reassign",["37"],"no-negated-in-lhs",["38"],"no-unused-vars","'useSupercluster' is defined but never used.","Identifier","unusedVar","'mapRef' is assigned a value but never used.","no-global-assign","no-unsafe-negation"]